<?xml version="1.0" encoding="UTF-8"?>

<beans xmlns="http://www.springframework.org/schema/beans" xmlns:aop="http://www.springframework.org/schema/aop" xmlns:tx="http://www.springframework.org/schema/tx" xmlns:jee="http://www.springframework.org/schema/jee"
	xmlns:context="http://www.springframework.org/schema/context" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:schemaLocation="   http://www.springframework.org/schema/beans   http://www.springframework.org/schema/beans/spring-beans-3.0.xsd   http://www.springframework.org/schema/context   http://www.springframework.org/schema/context/spring-context-3.0.xsd   http://www.springframework.org/schema/aop   http://www.springframework.org/schema/aop/spring-aop-3.0.xsd   http://www.springframework.org/schema/jee   http://www.springframework.org/schema/jee/spring-jee-3.0.xsd   http://www.springframework.org/schema/tx   http://www.springframework.org/schema/tx/spring-tx-3.0.xsd">

	<!-- Import more custom beans for test -->
	<!-- Metamac environment configuration -->
	<bean id="configurationService" class="org.siemac.metamac.core.common.conf.ConfigurationServiceImpl">
		<property name="systemConfigurationFile">
			<value>classpath:metamac/environment-test.xml</value>
		</property>
	</bean>

	<bean id="propertyPlaceholderConfigurer" class="org.siemac.metamac.core.common.conf.ConfigurationServicePropertyPlaceholderConfigurer">
		<property name="configurationService">
			<ref bean="configurationService" />
		</property>
	</bean>

	<!-- Access to Spring Context from anywhere -->
	<bean id="contextApplicationContextProvider" class="org.siemac.metamac.core.common.util.ApplicationContextProvider"></bean>
    
    <!-- Dozer is a Java Bean to Java Bean mapper that recursively copies data from one object to another.-->
    <bean id="mapperCoreUpdateMode" name="mapperCoreUpdateMode" class="org.dozer.DozerBeanMapper">
        <property name="mappingFiles">
            <list>
                <value>coreUpdateDozerBeanMapping.xml</value>
            </list>
        </property>
    </bean>
    
    <bean id="mapperCoreCreateMode" name="mapperCoreCreateMode" class="org.dozer.DozerBeanMapper">
        <property name="mappingFiles">
            <list>
                <value>coreCreateDozerBeanMapping.xml</value>
            </list>
        </property>
    </bean>
    
    <!-- Domain Object to Data Transfers Object -->
    <bean id="do2DtoMapperCore" name="do2DtoMapperCore" class="org.siemac.metamac.srm.core.service.dto.Do2DtoMapperImpl"></bean>
    
    <!-- Data Transfers Object to Domain Object -->
    <bean id="dto2DoMapperCore" name="dto2DoMapperCore" class="org.siemac.metamac.srm.core.service.dto.Dto2DoMapperImpl"></bean>


    <bean id="jaxb2MarshallerWithValidation" class="org.springframework.oxm.jaxb.Jaxb2Marshaller">
        <property name="classesToBeBound">
            <list>
                <value>org.siemac.metamac.trans.v2_1.message.Structure</value>
            </list>
        </property>
        <property name="schemas">
            <list>
                <value>classpath:sdmx21xsd/*.xsd</value>
            </list>
        </property>
    </bean>
    
    <bean id="jaxb2MarshallerWithoutValidation" class="org.siemac.metamac.core.common.jaxb.CustomJaxb2Marshaller">
        <property name="classesToBeBound">
            <list>
                <value>org.siemac.metamac.trans.v2_1.message.ObjectFactory</value>
            </list>
        </property>
    </bean>
</beans>
